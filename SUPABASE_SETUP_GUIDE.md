# Пошаговое руководство по настройке Supabase

## Шаг 1: Создание проекта Supabase

1. Перейдите на https://supabase.com/
2. Нажмите "Start your project"
3. Войдите или создайте аккаунт
4. Нажмите "New Project"
5. Выберите организацию
6. Введите название проекта (например, "petvizor")
7. Введите пароль для базы данных
8. Выберите регион (ближайший к вам)
9. Нажмите "Create new project"

## Шаг 2: Получение API ключей

1. В панели управления проекта перейдите в "Settings" → "API"
2. Скопируйте "Project URL"
3. Скопируйте "anon public" ключ
4. Добавьте их в файл `.env.local`:

```env
NEXT_PUBLIC_SUPABASE_URL=ваш_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=ваш_anon_key
```

## Шаг 3: Настройка базы данных

1. В панели управления перейдите в "SQL Editor"
2. Нажмите "New query"
3. Скопируйте содержимое файла `supabase-setup.sql`
4. Вставьте в редактор
5. Нажмите "Run" (или Ctrl+Enter)

## Шаг 4: Проверка настройки

1. Перейдите в "Table Editor"
2. Убедитесь, что созданы таблицы:
   - `profiles`
   - `pets`
   - `chat_messages`

## Шаг 5: Настройка аутентификации

1. Перейдите в "Authentication" → "Settings"
2. Включите "Enable email confirmations" (опционально)
3. Настройте "Site URL" (для продакшена)

## Возможные ошибки и решения

### Ошибка "syntax error at or near '{'"
- Убедитесь, что вы копируете только SQL код, а не JSON
- Проверьте, что в редакторе выбран язык SQL

### Ошибка "relation already exists"
- Это нормально, команды `IF NOT EXISTS` предотвратят ошибки
- Просто продолжайте выполнение

### Ошибка "function already exists"
- Команды `DROP FUNCTION IF EXISTS` удалят старые функции
- Это безопасно для повторного выполнения

## Проверка работы

После настройки:
1. Перезапустите сервер: `npm run dev`
2. Откройте приложение
3. Попробуйте зарегистрироваться
4. Проверьте, что пользователь появился в таблице `profiles`
